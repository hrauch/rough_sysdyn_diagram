<!doctype html>
<html>
<head>
    <!-- META -->
    <title>Rough System Dynamics test</title>
    <meta charset="utf-8">

    <link href="https://fonts.eloqueasy.de/font-architects-daughter.css" rel="stylesheet">
    <link rel="stylesheet" href="https://assets.eloqueasy.de/bootstrap-5/dist/css/bootstrap.min.css">
    <link href="https://assets.eloqueasy.de/fontawesome-free/css/all.min.css" rel="stylesheet"/>
    <script src="https://assets.eloqueasy.de/roughjs/bundled/rough.js"></script>
    <script src="rough_sysdyn_diagram.js"></script>
    <script src="https://assets.eloqueasy.de//bootstrap-5/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>

<div class="container mt-3">

    <h3>Example 1: Show diagram imediatly</h3>
    <div class="row mt-3">
        <div class="col-md-9">
            <svg id="svg_123" width="800px" height="600px" viewbox="0 0 800 600"></svg>
        </div>
    </div>
    <script>
        var svg_123_model = new RoughSd("svg_123")
        model = [
            ['Level', 'Mutter', 120, 150, false, true, false, false],
            ['Level', 'Tochter', 300, 150, false, true, false, false],
            ['Level', 'Endprod.', 480, 150, false, false],
            ['Const', 'Zerfall Mutter', 160 - 80 + 50, 300, BOTTOM],
            ['Const', 'Zerfall Tochter', 480 - 50, 50, TOP],

            ['Zerfall Mutter.top', 'Mutter.out_rate.bottom', -20],
            ['Zerfall Tochter.bottom', 'Tochter.out_rate.top', -10]
        ]
        svg_123_model.create_sd_model(model)
    </script>


    <h3>Example 2: Show diagram as a film</h3>
    <div class="row mt-3">
        <div class="col-md-9">
            <svg id="svg_123b" width="800px" height="600px" viewbox="0 0 800 600"></svg>
        </div>
        <div class="col-md-3">
            <div class="card" style="width: 18rem;">
                <div class="card-body">
                    <h5 class="card-title">Hinweise zum Diagramm</h5>
                    <div id="svg_123b_info">Bitte auf den Rechtspfeil klicken ...</div>
                </div>
            </div>
        </div>
    </div>
    <script>
        var svg_123b_model = new RoughSd("svg_123b")
        model = [
            ['Level', 'Mutter', 120, 150, false, true, false, false,
                'Wir beginnen unsere Betrachtung mit einer radioaktiven Ausgangssubstanz, der sogenannten "Mutter"-Substanz'], 1,
            ['Const', 'Zerfall Mutter', 130, 300, BOTTOM,
                'Die Zerfallskonstante der Mutter bestimmt, wie schnell dieser Zerfall stattfindet.'], 1,
            ['Zerfall Mutter.top', 'Mutter.out_rate.bottom', -20,
                'Die Abnahme des Materials wird mit einem stilisierten Ventil dargestellt.'], 2,
            ['Level', 'Tochter', 300, 150, false, true, false, false,
                'Die beim Zerfall der Mutter-Substant entstehende Substanz ist ebenfalls radioaktiv. Diese Substanz nennen wir "Tochter"-Substanz.'], 1,
            ['Const', 'Zerfall Tochter', 480 - 50, 50, TOP,
                'Wie schnell diese Abnahme erfolgt, wird durch die Zerfallskostante der Tochter-Substanz bestimmt.'], 1,
            ['Zerfall Tochter.bottom', 'Tochter.out_rate.top', -20,
                'Die Abnahme des Materials wird mit einem stilisierten Ventil dargestellt.'], 2,
            ['Level', 'Endprod.', 480, 150, false, false, false, false,
                'Am Ende des gesamten Prozesses ist ein stabiles Endprodukt entstanden.']
        ]
        svg_123b_model.create_sd_model(model)
    </script>


    <h3>Example 3: Show diagram stepwise</h3>
    <div class="row mt-3">
        <div class="col-md-9">
            <svg id="svg_123a" width="800px" height="600px" viewbox="0 0 800 600"></svg>
        </div>
        <div class="col-md-3">
            <div class="col-12 mb-3">
                <div class="btn-group" role="group" aria-label="forward / backward">
                    <button id="svg_123a_btn_prev" class="btn btn-light" onclick="svg_123a_model.draw_prev_obj()"><i class="fas fa-chevron-circle-left"></i></button>
                    <button id="svg_123a_btn_next" class="btn btn-light" onclick="svg_123a_model.draw_next_obj()"><i class="fas fa-chevron-circle-right"></i></button>
                </div>
            </div>
            <div class="card" style="width: 18rem;">
                <div class="card-body">
                    <h5 class="card-title">Hinweise zum Diagramm</h5>
                    <div id="svg_123a_info">Bitte auf den Rechtspfeil klicken ...</div>
                </div>
            </div>
        </div>
    </div>
    <script>
        var svg_123a_model = new RoughSd("svg_123a")
        model = [
            ['Level', 'Mutter', 120, 150, false, true, false, false,
                'Wir beginnen unsere Betrachtung mit einer radioaktiven Ausgangssubstanz, der sogenannten "Mutter"-Substanz'],
            ['Const', 'Zerfall Mutter', 130, 300, BOTTOM,
                'Die Zerfallskonstante der Mutter bestimmt, wie schnell dieser Zerfall stattfindet.'],
            ['Zerfall Mutter.top', 'Mutter.out_rate.bottom', -20,
                'Die Abnahme des Materials wird mit einem stilisierten Ventil dargestellt.'],
            ['Level', 'Tochter', 300, 150, false, true, false, false,
                'Die beim Zerfall der Mutter-Substant entstehende Substanz ist ebenfalls radioaktiv. Diese Substanz nennen wir "Tochter"-Substanz.'],
            ['Const', 'Zerfall Tochter', 480 - 50, 50, TOP,
                'Wie schnell diese Abnahme erfolgt, wird durch die Zerfallskostante der Tochter-Substanz bestimmt.'],
            ['Zerfall Tochter.bottom', 'Tochter.out_rate.top', -20,
                'Die Abnahme des Materials wird mit einem stilisierten Ventil dargestellt.'],
            ['Level', 'Endprod.', 480, 150, false, false, false, false,
                'Am Ende des gesamten Prozesses ist ein stabiles Endprodukt entstanden.']
        ]
        svg_123a_model.create_sd_model(model, false)
    </script>


    <h3>Example 4: More complex diagram</h3>
    <div class="row mt-3">
        <div class="col-md-9">
            <svg id="svg_345" width="800px" height="600px" viewbox="0 0 800 600"></svg>
        </div>
        <div class="col-md-3">
            <div class="col-12 mb-3">
                <div class="btn-group" role="group" aria-label="forward / backward">
                    <button id="svg_345_btn_prev" class="btn btn-light" onclick="svg_345_model.draw_prev_obj()"><i class="fas fa-chevron-circle-left"></i></button>
                    <button id="svg_345_btn_next" class="btn btn-light" onclick="svg_345_model.draw_next_obj()"><i class="fas fa-chevron-circle-right"></i></button>
                </div>
            </div>
            <div class="card" style="width: 18rem;">
                <div class="card-body">
                    <h5 class="card-title">Hinweise zum Diagramm</h5>
                    <div id="svg_345_info">Bitte auf den Rechtspfeil klicken ...</div>
                </div>
            </div>
        </div>
    </div>
    <script>
        var svg_345_model = new RoughSd("svg_345")
        model = [
            ['Level', 'Beute', 300, 150, true, true, true, true,
                'Alles beginnt mit den Beutetieren'],
            ['Const', 'Geb_rate Beute', 250 - 100, 50, TOP,
                'Die Geburtenrate legt fest, wie schnell sich die Beutetiere vermehren können.'],
            ['Const', 'Ste_rate Beute', 350 + 100, 50, TOP,
                'Natürlich sterben die Beutetiere auch. Dies wird insbesondere durch die Sterberate bestimmt.'],
            ['Geb_rate Beute.bottom', 'Beute.in_rate.top', 20,
                'Dieser Pfeil bedeutet: Die Geburtenrate wirkt auf die Beutetiere verstärkend ein.'],
            ['Ste_rate Beute.bottom', 'Beute.out_rate.top', -20,
                'Dieser Pfeil bedeutet: Die Sterberate wirkt auf die Beutetiere abschwächend ein.'],
            ['Beute.top', 'Beute.in_rate.top', -40, 2,
                'Viele Beutetiere haben viele Nachkommen; wenige Beutetiere haben wenige Nachkommen.'],
            ['Beute.top', 'Beute.out_rate.top', 40, 2,
                'Viele Beutetiere bedeuten auch viele Sterbefälle; wenige Beutetiere bedeuten wenige Sterbefälle.'],
            ['Level', 'Räuber', 300, 300, true, true, true, true,
                'Ohne Räuber sähe die Welt ganz anders aus ...'],
            ['Const', 'Geb_rate Räuber', 250 - 100, 400, BOTTOM,
                'Die Geburten- und Sterberate der Räuber haben zwar andere Werte, wirken aber in gleicher Weise.'],
            ['Const', 'Ste_rate Räuber', 350 + 100, 400, BOTTOM],
            ['Geb_rate Räuber.top', 'Räuber.in_rate.bottom', -20,
                'Auch für die Räuber gilt: Die tatsächliche Anzahl der Räuber bestimmt maßgeblich die Anzahl der Geburten und Todesfälle'],
            ['Ste_rate Räuber.top', 'Räuber.out_rate.bottom', 20],
            ['Räuber.bottom', 'Räuber.in_rate.bottom', 40, 2],
            ['Räuber.bottom', 'Räuber.out_rate.bottom', -40, 2],
            ['Beute.bottom', 'Räuber.in_rate.top', -20, 3,
                'Viele Beutetiere bedeuten, dass viele Nachkommen überleben können, die Anzahl der Räuber also zunimmt.'],
            ['Räuber.top', 'Beute.out_rate.bottom', -20, 3,
                'Viele Räuber bedeutet, dass die Anzahl der Beutetiere abnimmt. Damit verringern die Räuber die Nahrungsgrundlage für weitere Nachkommen.'],
            ['Info', 'Der Kreislauf schließt sich ...']
        ]
        svg_345_model.create_sd_model(model, false)
    </script>

</div>


</body>
</html>

